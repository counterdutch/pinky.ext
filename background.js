"use strict";

const bases = [
	"http://static.cdn.ubi.com/0018/live/GFX_HASHED/building_lib/",
	"http://static.cdn.ubi.com/0018/prestaging/GFX_HASHED/building_lib/",
	"https://ubistatic-a.akamaihd.net/0018/live/GFX_HASHED/building_lib/",
	"https://ubistatic-a.akamaihd.net/0018/prestaging/GFX_HASHED/building_lib/"
];

const collectibles = [
	"d1d8cf6dcf7597f57377a3b028307fb54d5678d8.png", // buffad_collectible_bridge_base_material.png
	"30f0baaaa12e4447144153f46136b449dd3c3b75.png", // buffad_collectible_picks.png
	"d8bcb64f81ea66d2bb405a76352d1e54bf51ee0b.png", // c_banana.png
	"dc81f60a9758824be51adf5523863d318b9a7142.png", // c_boxing_glove.png
	"144e19ee3f16e12972695cea95ba2024b9dec3cf.png", // c_christmas_bells.png
	"c55f730b452e9ac32a2fa2de53f71493712a2db5.png", // c_christmas_candy_cane.png
	"6d11dcde93afce91bc146f88e622f450201e4fff.png", // c_christmas_gingerbread.png
	"91cc31f70b5c84a1a8f7882b93947c8ffcf44988.png", // c_clue.png
	"bbe605e78fc86bb2ab28109efa16a571701e8ab0.png", // c_corner_flag.png
	"18704a048ab2e8da9b94bca25b9b7b6b1dce817c.png", // c_eggpaint.png
	"1f49e02e088178d0aa7483135784ae22555c52b9.png", // c_football.png
	"270c6c638bcbe5113fbe0589b8e25b136782c01d.png", // c_mushroom_red.png
	"14c7944b896b543eb00773e83b451f6032d9566e.png", // c_plain_egg.png
	"a64bb599de5b4cff09cf5d93f68db2d563a7cf39.png", // c_red_paint.png
	"ce8c87f1da7663e716162c2dcd43b1504e08fa93.png", // c_shoe.png
	"4a2c4c60a0fc0e8320ae43afd0a60f52acf6fe35.png", // c_spring.png
	"84e216219729c2f916780a3b80950bc5afe0725e.png", // c_telescope.png
	"ff2bd6901dd57d55a5a7a7f5d632ee4e2e9a15d6.png", // c_wicker_basket.png
	"266a7e26836bc830512cd0ea919481562a0009df.png", // collectible_adamantium.png
	"a5f5d240cff9ff0e625eef02d7d926dc0ee92a63.png", // collectible_axe.png
	"7dc1e1f289646ba15aeef107efe7026ebb58e8b1.png", // collectible_banner.png
	"1dd24082bcd22fc20777357499e2394897e2a37a.png", // collectible_barrels.png
	"df8a33947846c9f8ce2f2902a0cdba4adf8b7b48.png", // collectible_boards.png
	"4879d59fc8fa0ce0ba5e87b4c34031f2e16ca5f9.png", // collectible_bronze_cauldron.png
	"0c1d43eea8d2e74ab52103c30e3ac2f6eea5dd91.png", // collectible_bucket.png
	"5a204d4374fefad3d55858a62850c81804f18978.png", // collectible_dead_crops.png
	"5621cbed3a6b20791e0439123b8231b459a668ea.png", // collectible_dead_tree_wood.png
	"31437bd8393e7b6c386bc72f045530009e09b50c.png", // collectible_easter2015_frightened_chicken.png
	"85ce87088f887aed36f7d4b1ee2b423c82b30a99.png", // collectible_easter2015_stinky_plant.png
	"d5de5a5369c541c8b9f1d2efe2a3a7d5b7acd4cb.png", // collectible_egg.png
	"ab5333c0dc06caddc500444d976132936aa98eab.png", // collectible_fire_wood.png
	"1515f7c8c753cc379ea7056062297f92d5ccfe85.png", // collectible_flower.png
	"41b8238caac031c265efe08544a21ac4be91f534.png", // collectible_food_cart.png
	"0a1384a56afe4f1469fe2f2ea87a0e1cd0c3af64.png", // collectible_furniture.png
	"11fa4311ceabae96ac58b954921b2930f82724c2.png", // collectible_furs.png
	"f9194a1613b2c3db8b383d87c86d6e100d8ac905.png", // collectible_glowing_herbs.png
	"f237f6c7e3b6c6aac01ae7f51cd917bdeb6ddec2.png", // collectible_grain_sacks.png
	"5411ec93e61930e6eb3a958c56b81ba63023a9ee.png", // collectible_heart_fruit.png
	"bd76cd8196c23aaf73139bc263002cf759afc1ce.png", // collectible_herbs.png
	"8257a3e50f6ae19db4aeb2c978949b2d81021a61.png", // collectible_kettle.png
	"a761cd0aeca1a908ee28c76f882fb3970178f7cf.png", // collectible_magic_stone.png
	"77ea4e96f3a2fbe1a73a5cfe6892fa1fc5343d51.png", // collectible_mounten_ore.png
	"3da48a638753a4f5c846a433d6f984e25bb0954c.png", // collectible_plants.png
	"29e687a31e953020cf937c36a8fa5036793b89ec.png", // collectible_pumpkin.png
	"d8c8060e31406770e71c5c6557f1873c2e424920.png", // collectible_sacks.png
	"4afb3220ff0e36afab7a0fcb6368c1c064885178.png", // collectible_scarecrow.png
	"2f723e660a18567097b0353bb1b968b68235cf80.png", // collectible_scrap.png
	"ae018b91595f76a6ced714a49c185314ff545576.png", // collectible_stinky_mushroom.png
	"62b89f4ed680ca42fff2ffb9273131867c97856c.png", // collectible_training_dummy_01.png
	"cca4d11ec41b5976e2e13e6c945bb07b96f656ba.png", // collectible_used_hammer.png
	"db5c26a467c4f5dee9804c7c88417103515c326a.png"  // collectible_wine_barrel.png
];

const replacement = 
	"f9f7e2bacd84c76001820a3621bda5c6959d609d.png"; // bw_w_firebowl

for (let base of bases) {
	const callback = details => ({"redirectUrl": base + replacement});
	const filter = {"urls": collectibles.map(collectible => base + collectible)};
	chrome.webRequest.onBeforeRequest.addListener(callback, filter, ["blocking"]);
}
